<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MRW track control (next generation): ui Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="mrw128.gif"/></td>
  <td id="projectalign">
   <div id="projectname">MRW track control (next generation)
   </div>
   <div id="projectbrief">Welcome to the modelrailway next generation.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_1788f8309b1a812dcb800a185471cf6c.html">ui</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">ui Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The <a class="el" href="d1/de6/namespacemrw_1_1ui.html" title="The mrw::ui namespace contains all custom widget classes needed for the MRW next generation track con...">mrw::ui</a> namespace contains all custom widget classes needed for the MRW next generation track control. All widgets are derived from the BaseWidget class. Special classes like the BarWidget or OpModeWidget are directly derived.</p>
<p>All classes derived from ControllerWidget are view classes in the meaning of the MVC paradigma (see: <a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a>). The model contains simply the data. The view represents simply this data. Both don't talk directly but using an intermediate controller which contains a sort of business logic. Generally speaking the "view" BaseWidget does not see any model class.</p>
<p>The model may be any class from the <a class="el" href="d9/dbc/namespacemrw_1_1model.html" title="The mrw::model namespace contains all data/model classes for describing a complete model railway.">mrw::model</a> namespace, The view classes are in the <a class="el" href="d1/de6/namespacemrw_1_1ui.html" title="The mrw::ui namespace contains all custom widget classes needed for the MRW next generation track con...">mrw::ui</a> namespace and the controller classes are in this <a class="el" href="d1/d18/namespacemrw_1_1ctrl.html" title="The mrw::ctrl namespace contains all controller classes in the meaning of the MVC paradigma.">mrw::ctrl</a> namespace.</p>
<div class="fragment"><div class="line">classDiagram</div>
<div class="line"> </div>
<div class="line">class ModelClass</div>
<div class="line">&lt;&lt;Model&gt;&gt; ModelClass</div>
<div class="line"> </div>
<div class="line">class BaseController</div>
<div class="line">&lt;&lt;Controller&gt;&gt; BaseController</div>
<div class="line">QObject &lt;|-- BaseController</div>
<div class="line"> </div>
<div class="line">class ControllerWidget</div>
<div class="line">&lt;&lt;View&gt;&gt; ControllerWidget</div>
<div class="line"> </div>
<div class="line">QWidget &lt;|-- BaseWidget</div>
<div class="line">BaseWidget &lt;|-- ControllerWidget</div>
<div class="line">ControllerWidget ..&gt; BaseController : uses</div>
<div class="line">BaseController ..&gt; ControllerWidget : signals</div>
<div class="line">BaseController o.. ModelClass : uses</div>
</div><!-- fragment --><p>Actually there are four MVC groups:</p><ol type="1">
<li>Rail - RailController - RailWidget</li>
<li>RegularSwitch - RegularSwitchController - RegularSwitchWidget</li>
<li>DoubleCrossSwitch - DoubleCrossSwitchController - DoubleCrossSwitchWidget</li>
<li>Signal - SignalController - SignalWidget</li>
</ol>
<p>The MVC for signals is a little bit different because a controller may represent a group of signals like a combined main and distant signal.</p>
<h1>RailWidget</h1>
<p>As an example this scenario shows the MVC for a rail.</p>
<div class="fragment"><div class="line">classDiagram</div>
<div class="line"> </div>
<div class="line">class BaseController</div>
<div class="line">&lt;&lt;Abstract&gt;&gt; BaseController</div>
<div class="line"> </div>
<div class="line">class RailController</div>
<div class="line">&lt;&lt;Interface&gt;&gt; RailController</div>
<div class="line"> </div>
<div class="line">class RailControllerProxy</div>
<div class="line">&lt;&lt;Controller&gt;&gt; RailControllerProxy</div>
<div class="line"> </div>
<div class="line">class BaseWidget</div>
<div class="line">&lt;&lt;abstract&gt;&gt; BaseWidget</div>
<div class="line"> </div>
<div class="line">class ControllerWidget</div>
<div class="line">&lt;&lt;abstract&gt;&gt; ControllerWidget</div>
<div class="line"> </div>
<div class="line">class RailWidget</div>
<div class="line">&lt;&lt;View&gt;&gt; RailWidget</div>
<div class="line"> </div>
<div class="line">class Rail</div>
<div class="line">&lt;&lt;Model&gt;&gt; Rail</div>
<div class="line"> </div>
<div class="line">QObject &lt;|-- BaseController</div>
<div class="line">BaseController &lt;|-- RailController</div>
<div class="line">BaseWidget &lt;|-- ControllerWidget</div>
<div class="line">ControllerWidget &lt;|-- RailWidget</div>
<div class="line"> </div>
<div class="line">QWidget &lt;|-- BaseWidget</div>
<div class="line">RailWidget ..&gt; RailController : uses</div>
<div class="line">RailControllerProxy o.. Rail : uses</div>
<div class="line">RailControllerProxy ..&gt; RailWidget : signals</div>
<div class="line"> </div>
<div class="line">RailController &lt;|-- RailControllerMock</div>
<div class="line">RailController &lt;|-- RailControllerProxy</div>
</div><!-- fragment --><h1>RegularSwitchWidget</h1>
<p>The regular switch widget works like the widget for the double cross widget. So we describe only the regulur switch architecture. In opposite to a simple rail a switch acts as a device. So the controller proxy class inherits the ControllerRegistrand class which registers the controller to a central registry - the ControllerRegistry service. The MrwBusService uses the ControllerRegistry to map an incoming CAN message containing CAN node id and device unit number to the corresponding Controller which handles the CAN message.</p>
<div class="fragment"><div class="line">classDiagram</div>
<div class="line"> </div>
<div class="line">class BaseController</div>
<div class="line">&lt;&lt;Abstract&gt;&gt; BaseController</div>
<div class="line"> </div>
<div class="line">class SwitchController</div>
<div class="line">&lt;&lt;Interface&gt;&gt; SwitchController</div>
<div class="line"> </div>
<div class="line">class ControllerRegistry</div>
<div class="line">&lt;&lt;Service&gt;&gt; ControllerRegistry</div>
<div class="line"> </div>
<div class="line">class MrwMessageDispatcher</div>
<div class="line">&lt;&lt;Service&gt;&gt; MrwMessageDispatcher</div>
<div class="line"> </div>
<div class="line">class ControllerRegistrand</div>
<div class="line">&lt;&lt;Interface&gt;&gt; ControllerRegistrand</div>
<div class="line"> </div>
<div class="line">class SwitchControllerProxy</div>
<div class="line">&lt;&lt;Controller&gt;&gt; SwitchControllerProxy</div>
<div class="line"> </div>
<div class="line">class BaseWidget</div>
<div class="line">&lt;&lt;abstract&gt;&gt; BaseWidget</div>
<div class="line"> </div>
<div class="line">class ControllerWidget</div>
<div class="line">&lt;&lt;abstract&gt;&gt; ControllerWidget</div>
<div class="line"> </div>
<div class="line">class SwitchWidget</div>
<div class="line">&lt;&lt;View&gt;&gt; SwitchWidget</div>
<div class="line"> </div>
<div class="line">class Switch</div>
<div class="line">&lt;&lt;Model&gt;&gt; Switch</div>
<div class="line"> </div>
<div class="line">QObject &lt;|-- BaseController</div>
<div class="line">BaseController &lt;|-- SwitchController</div>
<div class="line"> </div>
<div class="line">QWidget &lt;|-- BaseWidget</div>
<div class="line">BaseWidget &lt;|-- ControllerWidget</div>
<div class="line">ControllerWidget &lt;|-- SwitchWidget</div>
<div class="line"> </div>
<div class="line">QObject &lt;|-- MrwBusService</div>
<div class="line">MrwBusService o-- QCanBus</div>
<div class="line">MrwBusService *-- QCanBusDevice</div>
<div class="line">MrwBusService &lt;|-- MrwMessageDispatcher</div>
<div class="line"> </div>
<div class="line">MrwMessageDispatcher ..&gt; ControllerRegistry : uses</div>
<div class="line">MrwMessageDispatcher ..&gt; SwitchControllerProxy : messages</div>
<div class="line"> </div>
<div class="line">SwitchWidget ..&gt; SwitchController : uses</div>
<div class="line">SwitchControllerProxy o.. Switch : uses</div>
<div class="line">SwitchControllerProxy ..&gt; SwitchWidget : signals</div>
<div class="line">ControllerRegistrand ..&gt; ControllerRegistry : register</div>
<div class="line"> </div>
<div class="line">SwitchController &lt;|-- SwitchControllerMock</div>
<div class="line">SwitchController &lt;|-- SwitchControllerProxy</div>
<div class="line">ControllerRegistrand &lt;|-- SwitchControllerProxy</div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Apr 13 2025 14:17:37 for MRW track control (next generation) by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
